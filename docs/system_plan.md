Mini-спека Economy / Rewards (точные числа, можно сразу кодить)

Очки за размещение: +5 за каждую поставленную клетку фигуры (например, 2×2 = 4 клетки = +20).

Очистка линии (ряд/колонка): +120 за каждую очищенную линию.

Мульти-очистка за ход: если за один ход очищено L линий, добавить бонус +80 * (L-1) (т.е. 2 линии: +80, 3: +160, 4: +240).

Комбо-множитель: старт x1.00; каждый ход с хотя бы 1 очисткой повышает на +0.25 (x1.25, x1.50, …), максимум x2.50.

Сброс комбо: ход без очистки → множитель сразу в x1.00.

Применение комбо: все очки за очистки (пп. 2–3) умножаются на текущий комбо-множитель; очки за размещение (п.1) не умножаются.

Мягкая валюта (Tokens) на косметику: по завершению раунда tokens = max(1, floor(score / 1500)).

Бонусы Tokens: +2 за новый best score; +3 за первую попытку Daily в день (при любом результате).

Цены тем: Theme #1 20, #2 35, #3 50, #4 70 Tokens (дальше не добавляем на MVP).

Rewarded #1 — Continue (после Game Over): доступен 1 раз за раунд, только если score ≥ 800; после просмотра → заменить текущие 3 фигуры на фикс-набор: [1×1, 1×2, 2×2], комбо сбросить в x1.00.

Rewarded #2 — Double Tokens (на Results): доступен 1 раз за раунд, только если базовая награда tokens ≥ 2; после просмотра → tokens *= 2 (округление не нужно).

Кулдаун rewarded-запросов: глобальный 90 секунд между успешными/неуспешными requestAd("rewarded") (чтобы не спамить SDK).

Кулдаун Continue по времени: дополнительно 10 минут после использования Continue (между раундами), хранить rewardCooldownUntil локально.

Поведение при adError / adblock: награду не выдавать, кнопка остаётся, но показывать подпись “Ad unavailable” на 2 секунды (без блокировки игры).